<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>
        <%= resume.name %> — Resume
    </title>
    <!-- Tailwind CDN (quick way to style; Puppeteer will download it) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* small print adjustments for PDF */
        body {
            font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        }

        .page {
            max-width: 800px;
            margin: 0 auto;
        }

        .section-title {
            color: #0f172a;
            font-weight: 700;
            letter-spacing: 0.2px;
        }

        .accent {
            color: #0ea5a4;
        }

        /* teal-ish accent - change as you like */
    </style>
</head>

<body class="p-8 text-gray-800">
    <div class="page">
        <header class="text-center mb-4">
            <h1 class="text-3xl font-bold">
                <%= resume.name %>
            </h1>
            <p class="text-sm mt-1">
                <%= resume.email %> | <%= resume.phone %> |
                        <%= resume.location || '' %>
            </p>
            <% if (resume.summary) { %>
                <p class="mt-3 text-gray-700">
                    <%= resume.summary %>
                </p>
                <% } %>
        </header>

        <div class="mt-6">
            <h2 class="section-title text-lg border-b pb-1"><span class="accent">Experience</span></h2>

            <% /* support array of experience objects OR a single string */ %>
                <% if (Array.isArray(resume.experience) && resume.experience.length) { %>
                    <% resume.experience.forEach(function(job){ %>
                        <div class="mt-3">
                            <div class="flex justify-between">
                                <div class="font-semibold">
                                    <%= job.title %> — <%= job.company %>
                                </div>
                                <div class="text-sm text-gray-600">
                                    <%= job.start || '' %> - <%= job.end || '' %>
                                </div>
                            </div>
                            <% if (job.points && job.points.length) { %>
                                <ul class="list-disc ml-5 mt-1">
                                    <% job.points.forEach(function(pt){ %>
                                        <li>
                                            <%= pt %>
                                        </li>
                                        <% }) %>
                                </ul>
                                <% } else if (job.details) { %>
                                    <p class="mt-1 text-gray-700">
                                        <%= job.details %>
                                    </p>
                                    <% } %>
                        </div>
                        <% }) %>
                            <% } else if (resume.experience) { %>
                                <p class="mt-2">
                                    <%= resume.experience %>
                                </p>
                                <% } else { %>
                                    <p class="mt-2 text-gray-500">No work history provided.</p>
                                    <% } %>
        </div>

        <div class="mt-6">
            <h2 class="section-title text-lg border-b pb-1"><span class="accent">Education</span></h2>
            <p class="mt-2">
                <%= resume.education || '' %>
            </p>
        </div>

        <div class="mt-6">
            <h2 class="section-title text-lg border-b pb-1"><span class="accent">Skills</span></h2>
            <div class="mt-2">
                <% if (Array.isArray(resume.skills) && resume.skills.length) { %>
                    <ul class="flex flex-wrap gap-2">
                        <% resume.skills.forEach(function(s){ %>
                            <li class="text-sm px-2 py-1 border rounded-md">
                                <%= s %>
                            </li>
                            <% }) %>
                    </ul>
                    <% } else if (resume.skills) { %>
                        <p>
                            <%= resume.skills %>
                        </p>
                        <% } else { %>
                            <p class="text-gray-500">—</p>
                            <% } %>
            </div>
        </div>

        <% if (resume.certifications && resume.certifications.length) { %>
            <div class="mt-6">
                <h2 class="section-title text-lg border-b pb-1"><span class="accent">Certifications</span></h2>
                <ul class="mt-2 list-disc ml-5">
                    <% resume.certifications.forEach(function(c){ %>
                        <li>
                            <%= c %>
                        </li>
                        <% }) %>
                </ul>
            </div>
            <% } %>

                <footer class="mt-8 text-xs text-gray-600">
                    Generated by YourResumeBuilder
                </footer>
    </div>
</body>

</html>