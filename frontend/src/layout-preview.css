/* ===============================
   LAYOUT — SINGLE SOURCE OF TRUTH
=============================== */

:root {
    --iconbar-w: 42pt;
    --sidebar-w: 240pt;
    --gap: 12pt;
    --header-h: 48pt;
}

/* ROOT */
.builder-layout {
    display: flex;
    width: 100%;
    min-height: 100vh;
    box-sizing: border-box;

    /* Desktop reserve space */
    padding-left: calc(var(--iconbar-w) + var(--sidebar-w) + var(--gap) * 2);
    padding-top: var(--header-h);
}

/* MAIN PREVIEW AREA */
.main-panel {
    flex: 1;
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;

    /* NEVER offset preview here */
    margin: 0 !important;
    padding: 0 !important;
}

/* PREVIEW WRAPPER */
.preview-wrapper {
    display: block;
    width: 100%;
    height: calc(100vh - var(--header-h));
    overflow-x: auto;
    overflow-y: auto;
    padding: 12pt;
    box-sizing: border-box;
    position: relative;
}

/* SCALE CONTAINER */
.preview-scale {
    display: block;
    justify-content: center;
    align-items: flex-start;

    /* ✅ allow zoom */
    overflow: visible;
    transform: scale(var(--preview-scale, 1));
    transform-origin: top left;
}


/* PREVIEW ITSELF */
.resume-preview {
    margin: 0 !important;
    padding: 0 !important;
    flex-shrink: 0;
}

/* ===============================
   MOBILE
=============================== */
@media (max-width: 675pt) {

    /* Sidebar overlays → reserve ONLY icon bar */
    .builder-layout {
        padding-left: var(--iconbar-w);
        padding-top: var(--header-h);
    }

    .preview-wrapper {
        padding: 9pt;
        overflow-x: auto;
        overflow-y: auto;
        position: relative;
    }
}

/* ===============================
   ZOOM CONTROLS
=============================== */
.preview-zoom-controls {
    position: fixed;
    right: 12pt;
    bottom: 12pt;
    z-index: 4000;
}

.resume-preview {
    width: 210mm;
    transform-origin: top center;
}


/* ===============================
   PRINT OVERRIDES — CRITICAL
   (DO NOT REMOVE)
=============================== */
@media print {

    .builder-layout,
    .main-panel,
    .preview-wrapper,
    .preview-scale {
        display: block !important;
        height: auto !important;
        min-height: auto !important;
        max-height: none !important;
        overflow: visible !important;
        padding: 0 !important;
        margin: 0 !important;
    }

}

/* =========================
   MOBILE
========================= */
@media (max-width: 675pt) {
    .main-panel {
        left: calc(var(--iconbar-w) + 9pt);
    }

    .preview-wrapper {
        padding-left: 0;
    }
}